---
layout:     post
title:      Xpath 轴与函数
date:       2019-12-16 20:32
author:     maida
categories: [Python&nbsp;爬虫]
tags:
 - Xpath
---

## 函数

<table class="table table-bordered table-striped">
    <thead>
        <th align="center">函数</th>
        <th align="center">例子</th>
        <th align="center">解释</th>
    </thead>
    <tbody>
        <tr>
            <td>starts-with</td>
            <td>//div[starts-with(@id,"maida")]</td>
            <td>选取 id 值为 maida 开头的 div</td>
        </tr>
        <tr>
            <td>contains</td>
            <td>//div[contains(@id,"maida")]</td>
            <td>选取 id 值含 maida 的 div</td>
        </tr>
        <tr>
            <td>and</td>
            <td>//div[starts-with(@id,"maida") and contains(@id,"hello")]</td>
            <td>选取 id 值为 maida 开头且含有 hello 的 div</td>
        </tr>
        <tr>
            <td>text()</td>
            <td>1.&nbsp;&nbsp;//p/text()<br>2.&nbsp;&nbsp;div[contains(text(),"maida")]</td>
            <td>1.&nbsp;&nbsp;获取 p 的文本内容<br>2.&nbsp;&nbsp;选取文本内容含 maida 的 div</td>
        </tr>
    </tbody>
</table>

---

## 轴

<table class="table table-bordered table-striped">
    <thead>
        <th>轴名</th>
        <th>语法</th>
        <th>解释</th>
    </thead>
    <tbody>
        <tr>
            <td>ancestor</td>
            <td>./ancestor::*</td>
            <td>选取当前节点的所有先辈节点（父、祖父）</td>
        </tr>
        <tr>
            <td>ancestor-or-self</td>
            <td>./ancestor-or-self::*</td>
            <td>选取当前节点的所有先辈节点以及节点本身</td>
        </tr>
        <tr>
            <td>descendant</td>
            <td>./descendant::*</td>
            <td>返回当前节点的所有后代节点（子节点、孙节点）</td>
        </tr>
        <tr>
            <td>child</td>
            <td>./child::*</td>
            <td>返回当前节点的所有子节点</td>
        </tr>
        <tr>
            <td>parent</td>
            <td>./parent::*</td>
            <td>选取当前节点的父节点</td>
        </tr>
        <tr>
            <td>following</td>
            <td>./following::*</td>
            <td>选取文档中当前节点结束标签后的所有节点</td>
        </tr>
        <tr>
            <td>following-sibling</td>
            <td>./following-sibling::*</td>
            <td>选取当前节点之后的兄弟节点</td>
        </tr>
        <tr>
            <td>preceding</td>
            <td>./preceding::*</td>
            <td>选取文档中当前节点开始标签前的所有节点</td>
        </tr>
        <tr>
            <td>preceding-sibling</td>
            <td>./preceding-sibling::*</td>
            <td>选取当前节点之前的兄弟节点</td>
        </tr>
        <tr>
            <td>self</td>
            <td>./self::*</td>
            <td>选取当前节点</td>
        </tr>
        <tr>
            <td>attribute</td>
            <td>./attribute::*</td>
            <td>选取当前节点的所有属性</td>
        </tr>
    </tbody>
</table>